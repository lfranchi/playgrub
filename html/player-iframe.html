<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Tomahawklet</title>
<script src='js/playgrub.js' type='text/javascript'></script>
<script src='js/soundmanager2.js' type='text/javascript'></script>
<script type='text/javascript'>
// Setup Playgrub
Playgrub.Events = {

    // Playgrub init
    init: function() {
        // new Playgrub.ScraperSource(); // TODO: extends PlaylistSource
        // new Playgrub.Client();
        // new Playgrub.Bookmarklet();
        new Playgrub.Playlist();
        new Playgrub.RemoteSource();  // TODO: extends PlaylistSource
        new Playgrub.Content();
        new Playgrub.Player();
        Playgrub.player.setup_playdar();

    },

    // no scraper found for this domain
    noScraper: function() {
    },

    // scraper found but there were no songs
    noSongs: function() {
    },

    // source done finding songs
    foundSongs: function() {
        new Playgrub.Content();
        Playgrub.content.display_playlist();
        Playgrub.player.resolve_current_playlist();
    },

    // playdar response
    playdarResponse: function(response, lastPoll) {
    },

    // Playgrub.client is done broadcasting playlist
    clientPlaylistPublished: function() {
    },

    // Playgrub.client is broadcasting a playlist track
    clientTrackPublished: function() {
    }
};

// Load Playdar and jQuery and start Playgrub.init() when done
Playgrub.Util.load_remotes( [
    ['Playdar', Playgrub.PGHOST+'js/playdar.js'],
    ['jQuery', 'http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js']
    ], function() { Playgrub.Events.init(); });


// setup soundManager2
soundManager.waitForWindowLoad = true;
soundManager.url = '/static/soundmanager2_flash9.swf';
soundManager.flashVersion = 9;
soundManager.useMovieStar = true;
soundManager.consoleOnly = false;
soundManager.debugMode = true;
soundManager.flashLoadTimeout = 0;
soundManager.useHTML5Audio = true;
soundManager.useFlashBlock = true;

</script>
<style type="text/css">
#soundmanager-debug {
 /* SM2 debug container (optional, use or customize this as you like - makes in-browser debug output more useable) */
 position:fixed;_position:absolute;right:1em;bottom:10em;width:50em;height:18em;overflow:auto;background:#fff;margin:1em;padding:1em;border:1px solid #999;font-family:monaco,"lucida console",verdana,tahoma,"sans serif";font-size:x-small;line-height:1.5em;opacity:0.9;filter:alpha(opacity=90);
}
</style>
<link rel="stylesheet" type="text/css" href="css/player.css" />
</head>
<body>
<div id='playgrub-player-frame'></div>
<div id='soundmanager-debug'></div>
</body>
</html>
